<ion-header no-border >
  <ion-toolbar color="medium" >
         <ion-buttons [routerLink]="['/funcionario']" (click)="editar.dados = undefined"  style="margin-left: 5px; font-size: 35px;" slot="start">
            <ion-icon name="ios-arrow-round-back"></ion-icon>
                    </ion-buttons>
    <ion-title *ngIf="!editar.dados">Cadastrar Funcionários</ion-title>
    <ion-title *ngIf="editar.dados">Editar</ion-title>

  
  </ion-toolbar>
</ion-header>

<ion-content>
  <form *ngIf="!editar.dados"  [formGroup]="form">
  <ion-item>
    <ion-icon slot="start" name="person"></ion-icon>
  <ion-label position="floating">Nome completo</ion-label>
  <ion-input type="text" formControlName="nome"></ion-input>
</ion-item>
<ion-item>
    <ion-icon slot="start" name="ios-mail"></ion-icon>
  <ion-label position="floating">E-mail</ion-label>
  <ion-input type="email" formControlName="email"></ion-input>
</ion-item>
<ion-item>
    <ion-icon slot="start" name="phone-portrait"></ion-icon>
  <ion-label position="floating">Celular</ion-label>
  <ion-input type="number" formControlName="celular"></ion-input>
</ion-item>
<ion-item>
    <ion-icon slot="start" name="key"></ion-icon>
  <ion-label position="floating">Senha</ion-label>
  <ion-input type="password" formControlName="senha"></ion-input>
</ion-item>
<ion-item>
    <ion-icon slot="start" name="key"></ion-icon>
  <ion-label position="floating">Confirmar Senha</ion-label>
  <ion-input type="password" formControlName="confirmarsenha"></ion-input>
</ion-item>
<ion-item>
    <ion-label>Box</ion-label>
    <ion-select formControlName="box" placeholder="Box">
      <ion-select-option *ngFor="let item of boxlist" value="{{item.box}}">{{item.box}}</ion-select-option>
    </ion-select>
  </ion-item>
<ion-item>
  <ion-icon slot="start" name="lock"></ion-icon>
  <ion-label>Permissões</ion-label>
</ion-item>
<ion-item>
  <ion-toggle formControlName="estoque" slot="start" color="tertiary"></ion-toggle>
  <ion-label >Estoque</ion-label>
</ion-item>
<ion-item>
  <ion-toggle formControlName="controle" slot="start" color="tertiary"></ion-toggle>
  <ion-label >Controle</ion-label>
</ion-item>
<ion-item>
  <ion-toggle formControlName="funcionario" slot="start" color="tertiary"></ion-toggle>
  <ion-label >Funcionários</ion-label>
</ion-item>
</form>



<form *ngIf="editar.dados"  [formGroup]="formedit">
  <ion-item>
    <ion-icon slot="start" name="person"></ion-icon>
  <ion-label position="floating">Nome completo</ion-label>
  <ion-input type="text" formControlName="nome"></ion-input>
</ion-item>
<ion-item>
    <ion-icon slot="start" name="phone-portrait"></ion-icon>
  <ion-label position="floating">Celular</ion-label>
  <ion-input type="number" formControlName="celular"></ion-input>
</ion-item>
<ion-item *ngIf="editar.dados.id == provider.id">
    <ion-icon slot="start" name="key"></ion-icon>
  <ion-label position="floating">Senha</ion-label>
  <ion-input  type="password" formControlName="senha"></ion-input>
</ion-item>
<ion-item *ngIf="editar.dados.id == provider.id" >
    <ion-icon slot="start" name="key"></ion-icon>
  <ion-label position="floating">Confirmar Senha</ion-label>
  <ion-input type="password" formControlName="confirmarsenha"></ion-input>
</ion-item>
<ion-item *ngIf="editar.dados.funcionario == true">
    <ion-label>Box</ion-label>
    <ion-select formControlName="box"  placeholder="Box">
      <ion-select-option *ngFor="let item of boxlist" value="{{item.box}}">{{item.box}}</ion-select-option>
    </ion-select>
  </ion-item>
  <div *ngIf="editar.dados.id != provider.idempre">
<ion-item *ngIf="provider.funcionario == true">
  <ion-icon slot="start" name="lock"></ion-icon>
  <ion-label>Permissões</ion-label>
</ion-item>
<ion-item *ngIf="provider.funcionario == true">
  <ion-toggle formControlName="estoque" slot="start" color="tertiary"></ion-toggle>
  <ion-label >Estoque</ion-label>
</ion-item>
<ion-item *ngIf="provider.funcionario == true">
  <ion-toggle formControlName="controle" slot="start" color="tertiary"></ion-toggle>
  <ion-label >Controle</ion-label>
</ion-item>
<ion-item *ngIf="provider.funcionario == true">
  <ion-toggle formControlName="funcionario" slot="start" color="tertiary"></ion-toggle>
  <ion-label >Funcionários</ion-label>
</ion-item>
</div>
</form>
</ion-content>
<ion-toolbar >
    <ion-grid>
        <ion-row>
           <ion-col style="border: 1px solid  #a2a4ab;"  size="12" text-center>
              <ion-button *ngIf="!editar.dados" (click)="cadfuncionario()" [disabled]="form.invalid"  style="color:blueviolet"   fill="clear" expand="full">
                <b>Cadastrar</b>
      </ion-button>
      <ion-button *ngIf="editar.dados" (click)="editfuncionario()" [disabled]="formedit.invalid"  style="color:blueviolet"   fill="clear" expand="full">
        <b>Editar</b>
</ion-button>
           </ion-col>
         </ion-row>
       </ion-grid>
         </ion-toolbar>